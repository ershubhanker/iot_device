{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'css/index.css' %}">
     <!-- Bootstrap 4 -->

     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
     <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
 
     <!-- Font Awesome -->
     <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
 
     <!-- Moment.js -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js" integrity="sha256-VBLiveTKyUZMEzJd6z2mhfxIqz3ZATCuVMawPZGzIfA=" crossorigin="anonymous"></script>

       <!-- jQuery -->
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

      <!-- Fengyuan Chen's Datepicker -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.css" integrity="sha256-b88RdwbRJEzRx95nCuuva+hO5ExvXXnpX+78h8DjyOE=" crossorigin="anonymous" />
      <script src="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.js" integrity="sha256-/7FLTdzP6CfC1VBAj/rsp3Rinuuu9leMRGd354hvk0k=" crossorigin="anonymous"></script>


    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>

    <!-- Header -->
    <div class="container-fluid head">
      <img src="{% static 'img/Varian Lite Logo.svg' %}">
    </div>
    <!-- Header -->

    <!-- <img src="{% static 'img/bg.jpg' %}"> -->
  <div class="container-fluid main-body">
   
  <div class="container">
    
    {% for message in messages %}
    
    <div class="alert {{ message.tags }}">
        <a class="close" href="#" data-dismiss="alert">×</a>
        {{ message }}
           
    </div>

  {% endfor %}

    <!-- Wifi Start -->
    <div class="card">
      <div class="card-header" id="headingOne">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
            Wi-Fi
          </button>
        </h5>
        <div class="para"><p>* The default SSID/password is varian_secure/varian
          Changes made here must be configured into all EV chargers accessing this Varian Lite controller
          </p></div>
      </div>
    
      <div id="collapseOne" class="collapse " aria-labelledby="headingOne" data-parent="#accordion">
        <div class="card-body">
          <form action="" method="post">
            {% csrf_token %}
            <!-- SSID -->
            <div class="form-group">
              <label for="exampleInputEmail1">SSID</label>
              <!-- {% for wifi in Wifi_Details %} -->
              <input type="text" class="form-control" name="ssid" id="id_ssid" aria-describedby="emailHelp" >
              
              <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your ssid with anyone else.</small> -->
            </div>

            <!-- passwod and repassword -->
            <div class="form-group">
              <label for="exampleInputPassword1">Password</label>
              <input type="password" class="form-control" name="password" id="password"  >
              
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1">Confirm Password</label>
              <input type="password" class="form-control" name="confirm_password"  id="confirm_password" >
              <div id="error_message" style="display: none; color: red;"></div>
              <!-- {% endfor %} -->
            </div>
            
            <input type="submit" class="btn btn-info" name="wifi" onclick="return validate()">
          </form>
        </div>
      </div> 
    </div>
    <!-- Wifi End -->

    <!-- Date and Time Start -->
    <div class="card">
      <div class="card-header" id="headingTwo">
        <h5 class="mb-0">
          <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
            Date and Time
          </button>
        </h5>

      </div>
      <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
        <div class="card-body">
          <form action="" method="post">
            {% csrf_token %}
            
            <!-- <input class="form-control" type="time" name="_time"> -->
            <div class="form-group">
              <label for="exampleInputEmail1">Date</label>
              <input type="date" min="2022-01-01" max="2099-12-31" class="form-control" name="date" placeholder="Enter Date">
            </div>
            
            <div class="form-group">  
              <label for="exampleInputPassword1">Time</label>
              <!-- <input type="text" id="timepicker-12-hr" name="timepicker-12-hr" class="form-control timepicker-12-hr"> -->
              <input type="time" class="form-control" name="local_time" placeholder="Month">
            </div>


            <div class="form-group">
              <label for="exampleInputPassword1">Time Zone</label>
              {% comment %} <input type="text" class="form-control" name="timezone" placeholder="Time Zone"> {% endcomment %}
              <select class="form-control"  name="timezone" id="timezone" required>
                <option class="form-control" disabled='True' selected>-------------Select Time Zone----------------</option>
                
                
                {% for key,value in choice5 %}
                {% for t in Date_and_Time %}
                <option class="form-control"  value="{{ key }}" {% if t.timezone == key %}selected{% endif %}>{{ value }}</option>

                      {% comment %} <option class="form-control"  value="{{ key }}">{{ value }}</option> {% endcomment %}
                      {% endfor %}
                      {% endfor %}
              </select>
            </div>
            <input type="submit" class="btn btn-info" name="datetime">
          </form>
        </div>
      </div>
    </div>
    <!-- Date and Time end -->

    <!-- Time of use Lockout Start -->
    <div class="card">
      <div class="card-header" id="headingThree">
        <h5 class="mb-0">
          <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
            Time of Use Lockout
          </button>
        </h5>
        <div class="para"><p>* Enter hours to disallow charging due to time-of-use pricing using the 24-hour clock (eg. 17 for 5 pm).  Charging will be permitted at the start of the “To” hour.</p></div>
      </div>
      <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
        <div class="card-body">
          <form action="" method="post">
            {% csrf_token %}
            
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <label for="exampleInputEmail1">Weekday From</label>
                  {% for lockout in lockout_Details %}
                  <input type="number" min='0' max='23' class="form-control lockout" name="weekday_from_1" aria-describedby="emailHelp" placeholder="{{ lockout.weekday_from_1 }}">
                </div>
              </div>
              <div class="col">
                <div class="form-group">  
                  <label for="exampleInputPassword1">Weekday To</label>
                  <input type="number" min='0' max='23' class="form-control lockout" name="weekday_to_1" placeholder="{{ lockout.weekday_to_1 }}">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <label for="exampleInputEmail1">Weekday From</label>
                  <input type="number" min='0' max='23' class="form-control lockout" name="weekday_from_2" placeholder="{{ lockout.weekday_from_2 }}">
                </div>
              </div>
              <div class="col">
                <div class="form-group">  
                  <label for="exampleInputPassword1">Weekday To</label>
                  <input type="number" min='0' max='23' class="form-control lockout" name="weekday_to_2" placeholder="{{ lockout.weekday_to_2 }}">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col">
                <div class="form-group">
                  <label for="exampleInputPassword1">Weekend From</label>
                  <input type="number" min='0' max='23' class="form-control lockout" name="weekend_from_1"  placeholder="{{ lockout.weekend_from_1 }}">
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label for="exampleInputPassword1">Weekend To</label>
                  <input type="number" class="form-control lockout" name="weekend_to_1" placeholder="{{ lockout.weekend_to_1 }}">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <label for="exampleInputPassword1">Weekend From</label>
                  <input type="number" class="form-control lockout" name="weekend_from_2"  placeholder="{{ lockout.weekend_from_2 }}">
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label for="exampleInputPassword1">Weekend To</label>
                  <input type="number" class="form-control lockout" name="weekend_from_2" placeholder="{{ lockout.weekend_from_2 }}">
                  {% endfor %}
                </div>
              </div>
            </div>

            <input type="submit" class="btn btn-info" name="lockout">

          </form>
        </div>
      </div>
    </div>
    <!-- Time of use Lockout End -->

<!-- Electrical Configuration Start -->
    <div class="card">
      <div class="card-header" id="headingFour">
        <h5 class="mb-0">
          <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
            Electrical 
          </button>
        </h5>
        <div class="para"><p>* Electrical settings must be made by a qualified electrical contractor. Incorrect settings will result in improper operation and can result in severe damage to the electrical system.</p></div>
      </div>
      <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordion">
        <div class="card-body">
          <form action="" method="post">
            {% csrf_token %}
           
            <div class="form-group">
              <label for="exampleInputPassword1">Sensed Panel Rating</label>
              {% comment %} <select class="form-control"  name="sensed_panel_rating" id="sensed_panel_rating"> {% endcomment %}
                {% comment %} <option class="form-control"  selected='selected' value="{{ ec.sensed_panel_rating }}">{{ ec.sensed_panel_rating }}</option> {% endcomment %}
                {% for ec in EC_Details %}
                <input type="number" min="50" max="400" class="form-control lockout" name="sensed_panel_rating" placeholder="{{ ec.sensed_panel_rating }}">
               {% endfor %}
              </select>
            </div>

            <div class="form-group">
              <label for="exampleInputPassword1">Sensor CT Rating</label>
              <select class="form-control"  name="sensor_ct_rating" id="sensor_ct_rating">
                {% for key,value in choice3 %}
                
                {% for ec in EC_Details %}
                
                <option class="form-control"  value="{{ key }}" {% if ec.sensor_ct_rating == key %}selected{% endif %}>{{ value }}</option>
                {% endfor %}
                {% endfor %}
              </select>
            </div>
            
            <div class="form-group">
              <label for="exampleInputPassword1">Circuit Breaker A</label>
              <select class="form-control"  name="circuit_breaker_a" id="circuit_breaker_a">
                
                {% for key,value in choice4 %}
                
                {% for ec in EC_Details %}
                
                <option class="form-control"  value="{{ key }}" {% if ec.circuit_breaker_a == key %}selected{% endif %}>{{ value }}</option>
          {% endfor %}
                      {% endfor %}
              </select>
            </div>


            <div class="form-group">
              <label for="exampleInputPassword1">Circuit Breaker B</label>
              <select class="form-control"  name="circuit_breaker_b" id="circuit_breaker_b">
                {% for key,value in choice4 %}
                
                {% for ec in EC_Details %}
                
                <option class="form-control"  value="{{ key }}" {% if ec.circuit_breaker_b == key %}selected{% endif %}>{{ value }}</option>
          {% endfor %}
                      {% endfor %}
              </select>
            </div>

            <hr>
              <div class="row">
                <div class="col-12">
                  <div class="form-group">
                    <label for="exampleInputEmail1" class='chargerId'>Charger ID 1</label>
                    {% for ec in EC_Details %}
                    <input type="text" class="form-control mobile" name="c1" aria-describedby="emailHelp" id='chargerId' placeholder="{{ ec.c1 }}">
                  </div>
                </div>
              </div>

              <div class="row">
                
                <div class="col-6">
                  <div class="form-group">
                    <label for="exampleInputEmail1">Max Amp</label>
                    <input type="number" class="form-control mobile" name="max_amp1" aria-describedby="emailHelp" placeholder="{{ ec.max_amp1 }}">
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-group">  
                    <label for="exampleInputPassword1">Circuit</label>
                    <!-- <input type="text" class="form-control" name="c1ab" placeholder="Circuit A/B"> -->
                    <select class="form-control"  name="c1_circuit" id="c1ab">
                      {% for key,value in choice2 %}
                
                      {% for ec in EC_Details %}
                
                      <option class="form-control"  value="{{ key }}" {% if ec.c1ab == key %}selected{% endif %}>{{ value }}</option>
                {% endfor %}
                      {% endfor %}
                      
                    </select>
                  </div>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-6">
                  <div class="form-group">
                    <label for="exampleInputEmail1" class='chargerId'>Charger ID 2</label>
                    <input type="text" class="form-control mobile" name="c2" aria-describedby="emailHelp" id='chargerId' placeholder="{{ ec.c2 }}">
                  </div>
                </div>
                
              </div>
           
              <div class="row">
                
                <div class="col-6">
                  <div class="form-group">
                    <label for="exampleInputEmail1">Max Amp</label>
                    <input type="number" class="form-control mobile" name="max_amp2" aria-describedby="emailHelp" placeholder="{{ ec.max_amp2 }}">
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-group">  
                    <label for="exampleInputPassword1">Circuit</label>
                    <!-- <input type="text" class="form-control" name="c1ab" placeholder="Circuit A/B"> -->
                    <select class="form-control"  name="c2_circuit" id="c2ab">
                
                      {% for key,value in choice2 %}
                
                      {% for ec in EC_Details %}
                
                      <option class="form-control"  value="{{ key }}" {% if ec.c2_circuit == key %}selected{% endif %}>{{ value }}</option>
                {% endfor %}
                      {% endfor %}
                      
                    </select>
                  </div>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-6">
                  <div class="form-group">
                    <label for="exampleInputEmail1" class='chargerId'>Charger ID 3</label>
                    <input type="text" class="form-control mobile" name="c3" aria-describedby="emailHelp" id='chargerId' placeholder="{{ ec.c3 }}">
                  </div>
                </div>
                
              </div>
              
              <div class="row">
                
                <div class="col-6">
                  <div class="form-group">
                    <label for="exampleInputEmail1">Max Amp</label>
                    <input type="number" class="form-control mobile" name="max_amp3" aria-describedby="emailHelp" placeholder="{{ ec.max_amp3 }}">
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-group">  
                    <label for="exampleInputPassword1">Circuit</label>
                    <!-- <input type="text" class="form-control" name="c1ab" placeholder="Circuit A/B"> -->
                    <select class="form-control"  name="c3_circuit" id="c3ab">
                
                      {% for key,value in choice2 %}
                
                      {% for ec in EC_Details %}
                
                      <option class="form-control"  value="{{ key }}" {% if ec.c3_circuit == key %}selected{% endif %}>{{ value }}</option>
                {% endfor %}
                      {% endfor %}
                      
                    </select>
                  </div>
                </div>
              </div>
              <hr>

              <div class="row" >
                <div class="col-6">
                  <div class="form-group">
                    <label for="exampleInputEmail1" >Charger ID 4</label>
                    <input type="text" class="form-control mobile" name="c4" id='chargerId' aria-describedby="emailHelp" placeholder="{{ ec.c4 }}">
                  </div>
                </div>                
              </div>
              
              <div class="row">
                <div class="col-6">
                  <div class="form-group">
                    <label for="exampleInputEmail1">Max Amp</label>
                    <input type="number" class="form-control mobile" name="max_amp4" aria-describedby="emailHelp" placeholder="{{ ec.max_amp4 }}">
                    {% endfor %}
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-group">  
                    <label for="exampleInputPassword1">Circuit</label>
                    <!-- <input type="text" class="form-control" name="c1ab" placeholder="Circuit A/B"> -->
                    <select class="form-control"  name="c4_circuit" id="c4ab">
                
                      {% for key,value in choice2 %}
                
                      {% for ec in EC_Details %}
                
                      <option class="form-control"  value="{{ key }}" {% if ec.c4_circuit == key %}selected{% endif %}>{{ value }}</option>
                {% endfor %}
                      {% endfor %}
                      
                    </select>
                  </div>
                </div>
              </div>

            <input type="submit" class="btn btn-info" name="ec">
          </form>
        </div>
      </div>
    </div>
    <!-- Electrical Configuration End -->

  </div>

</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


<script>
  // --------------------password error logic----------------------
function validate() {
  var password = document.getElementById("password").value;
  var confirm_password = document.getElementById("confirm_password").value;
  var error_message = document.getElementById("error_message");

  if (password.length < 8) {
    error_message.innerHTML = "Password must be at least 8 characters long";
    error_message.style.display = "block";
    return false;
  }

  if (password != confirm_password) {
    error_message.innerHTML = "Password mismatch error";
    error_message.style.display = "block";
    return false;
  }

  return true;
}

</script>

</body>
</html>